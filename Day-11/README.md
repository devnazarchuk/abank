# День 11: Опитування та базова аналітика

**Дата:** [[2026-02-01]]
**Мета:** Додати інструменти для збору зворотного зв'язку (опитування) та збору базових метрик по активності користувачів.

---

## 1. Завдання на день

- [ ] **Реалізація функціоналу опитувань:**
  - [ ] **Моделі даних:**
    - `Polls`: `id`, `title`, `course_id` (опціонально, для прив'язки до курсу).
    - `PollQuestions`: `id`, `poll_id`, `text`.
    - `PollAnswers`: `id`, `poll_question_id`, `text`.
    - `UserPollVotes`: `user_id`, `poll_answer_id`.
  - [ ] **API:**
    - `GET /api/polls`: отримати список активних опитувань.
    - `GET /api/polls/:id`: отримати деталі опитування (питання, варіанти).
    - `POST /api/polls/:id/vote`: віддати голос в опитуванні.
  - [ ] **UI:**
    - Створити сторінку `/polls` для відображення списку опитувань.
    - Компонент для проходження опитування та компонент для відображення результатів (у відсотках).
- [ ] **Збір базової аналітики (Metrics):**
  - [ ] **Визначити ключові метрики для MVP:**
    1. Кількість реєстрацій за період.
    2. Кількість створених курсів.
    3. Кількість переглянутих лекцій.
    4. Прогрес користувача по курсу (відсоток пройдених лекцій).
  - [ ] **Реалізація збору даних:**
    - Для прогресу курсу: додати таблицю `UserCourseProgress` (`user_id`, `course_id`, `completed_lectures_count`).
    - Оновлювати цю таблицю, коли користувач взаємодіє з лекцією (напр., провів на сторінці певний час або натиснув кнопку "Завершити лекцію").
    - Інші метрики можна розраховувати на основі існуючих таблиць (`Users`, `Courses`).
- [ ] **Створення дашборду для адміністратора:**
  - [ ] Створити захищену сторінку `/admin/dashboard`.
  - [ ] Відобразити на ній ключові метрики у вигляді простих чисел або графіків.

## 2. Результат дня

- Створено функціонал опитувань, де користувачі можуть голосувати.
- Збираються базові дані про активність користувачів.
- Існує простий дашборд для адміністратора з основними показниками.

## 3. Нотатки

- Аналітика може бути дуже складною. На цьому етапі головне — почати збирати найважливіші дані. Більш складні системи аналітики (напр., інтеграція з Matomo, Plausible) можна розглянути пізніше.
- Опитування є хорошим інструментом для залучення спільноти та збору ідей для подальшого розвитку платформи.
- Для дашборду можна використати прості бібліотеки для графіків, напр., `Chart.js` або `Recharts`.
